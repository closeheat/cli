#!/usr/bin/env node

var Apps,Authorizer,Cloner,Config,Creator,DeployLog,Deployer,Log,Server,Updater,fs,path,pkg,program,_;program=require("commander"),_=require("lodash"),fs=require("fs"),path=require("path"),pkg=require("../../package.json"),Creator=require("../creator"),Server=require("../server"),Deployer=require("../deployer"),Apps=require("../apps"),Authorizer=require("../authorizer"),Cloner=require("../cloner"),Log=require("../log"),Updater=require("../updater"),DeployLog=require("../deploy_log"),Config=require("../config"),(new Updater).update().then(function(){return program.version(pkg.version).usage("<keywords>"),program.command("create [app-name]").description("Creates a new app with clean setup and directory structure.").option("-f, --framework [name]","Framework").option("-t, --template [name]","Template").option("--javascript [name]","Javascript precompiler").option("--html [name]","HTML precompiler").option("--css [name]","CSS precompiler").option("--tmp [path]","The path of temporary directory when creating").option("--dist [path]","Path of destination of where to create app dir").option("--no-deploy","Do not create Github repo and closeheat app").action(function(e,r){var o,t,n;return t=_.pick.apply(_,[r,"framework","template","javascript","html","css","dist","tmp","deploy"]),t.name=e,Log.logo(),n=["framework","template","javascript","html","css"],o=_.any(_.keys(t),function(e){return _.contains(n,e)}),o?(new Creator).createFromSettings(t):(new Creator).createFromPrompt(t)}),program.command("server").description("Runs a server which builds and LiveReloads your app.").option("--ip [ip]","IP to run LiveReload on (default - localhost)").option("-p, --port [port]","Port to run server on (default - 4000)").action(function(e){return(new Server).start(e)}),program.command("deploy").description("Deploys your app to closeheat.com via Github.").action(function(){return Log.logo(),(new Deployer).deploy()}),program.command("log").description("Polls the log of the last deployment. Usable: git push origin master && closeheat log").action(function(){return Log.logo(),(new DeployLog).fromCurrentCommit()}),program.command("open").description("Opens your deployed app in the browser.").action(function(){return Log.logo(),(new Deployer).open()}),program.command("apps").description("Shows a list of your deployed apps.").action(function(){return(new Apps).list()}),program.command("login").option("-t, --token [access-token]","Access token from closeheat.com.").description("Log in to closeheat.com with this computer.").action(function(e){return e.token?(new Authorizer).saveToken(e.token):(new Authorizer).login()}),program.command("clone [app-name]").description("Clones the Github repository of an app.").action(function(e){return(new Cloner).clone(e)}),program.command("transform [type] [language]").description("Transforms files in current dir to other language (Experimental).").action(function(e,r){var o,t,n,a;return Log.logo(),o=require("../dirs"),t=require("../transformer"),n=new o({name:"transforming",src:process.cwd(),dist:process.cwd()}),a={},a[e]=r,new t(n).transform(a).then(function(){return function(){return console.log("transformed",a)}}(this))}),program.command("help").description("Displays this menu.").action(function(){return Log.logo(0),program.help()}),program.parse(process.argv),program.args.length?void 0:void(fs.existsSync("index.html")||fs.existsSync("index.jade")?(new Server).start():(Log.logo(0),program.help()))});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsb3NlaGVhdC5jb2ZmZWUiLCJjbG9zZWhlYXQuanMiXSwibmFtZXMiOlsiQXBwcyIsIkF1dGhvcml6ZXIiLCJDbG9uZXIiLCJDb25maWciLCJDcmVhdG9yIiwiRGVwbG95TG9nIiwiRGVwbG95ZXIiLCJMb2ciLCJTZXJ2ZXIiLCJVcGRhdGVyIiwiZnMiLCJwYXRoIiwicGtnIiwicHJvZ3JhbSIsIl8iLCJyZXF1aXJlIiwidXBkYXRlIiwidGhlbiIsInZlcnNpb24iLCJ1c2FnZSIsImNvbW1hbmQiLCJkZXNjcmlwdGlvbiIsIm9wdGlvbiIsImFjdGlvbiIsIm5hbWUiLCJvcHRzIiwiaW5jbHVkZXNfdGVtcGxhdGVfc2V0dGluZ3MiLCJzZXR0aW5ncyIsInRlbXBsYXRlX3NldHRpbmdzIiwicGljayIsImFwcGx5IiwibG9nbyIsImFueSIsImtleXMiLCJzZXR0aW5nIiwiY29udGFpbnMiLCJjcmVhdGVGcm9tU2V0dGluZ3MiLCJjcmVhdGVGcm9tUHJvbXB0Iiwic3RhcnQiLCJkZXBsb3kiLCJmcm9tQ3VycmVudENvbW1pdCIsIm9wZW4iLCJsaXN0IiwidG9rZW4iLCJzYXZlVG9rZW4iLCJsb2dpbiIsImFwcF9uYW1lIiwiY2xvbmUiLCJ0eXBlIiwibGFuZ3VhZ2UiLCJEaXJzIiwiVHJhbnNmb3JtZXIiLCJkaXJzIiwic3JjIiwicHJvY2VzcyIsImN3ZCIsImRpc3QiLCJ0cmFuc2Zvcm0iLCJjb25zb2xlIiwibG9nIiwidGhpcyIsImhlbHAiLCJwYXJzZSIsImFyZ3YiLCJhcmdzIiwibGVuZ3RoIiwiZXhpc3RzU3luYyJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBQUEsTUFBQUMsV0FBQUMsT0FBQUMsT0FBQUMsUUFBQUMsVUFBQUMsU0FBQUMsSUFBQUMsT0FBQUMsUUFBQUMsR0FBQUMsS0FBQUMsSUFBQUMsUUFBQUMsQ0FBQUQsU0FBVUUsUUFBUSxhQUFsQkQsRUFDSUMsUUFBUSxVQURaTCxHQUVLSyxRQUFRLE1BRmJKLEtBR09JLFFBQVEsUUFIZkgsSUFLTUcs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QVksdUJBQ1pFLE9BQU8sV0MzQ1IsTUQ0Q0VoQixLQUFJd0IsS0FBSyxHQUNUbEIsUUFBUWdELFNBRVpoRCxRQUFRaUQsTUFBTVIsUUFBUVMsTUFFdEJsRCxRQUFlbUQsS0FBS0MsT0FBcEIsWUFDS3ZELEdBQUd3RCxXQUFXLGVBQWlCeEQsR0FBR3dELFdBQVcsZUFDMUMsR0FBQTFELFNBQVM4QixTQUViL0IsSUFBSXdCLEtBQUssR0FDVGxCLFFBQVFnRCIsImZpbGUiOiJjbG9zZWhlYXQuanMiLCJzb3VyY2VzQ29udGVudCI6WyJwcm9ncmFtID0gcmVxdWlyZSAnY29tbWFuZGVyJ1xuXyA9IHJlcXVpcmUgJ2xvZGFzaCdcbmZzID0gcmVxdWlyZSAnZnMnXG5wYXRoID0gcmVxdWlyZSAncGF0aCdcblxucGtnID0gcmVxdWlyZSAnLi4vLi4vcGFja2FnZS5qc29uJ1xuQ3JlYXRvciA9IHJlcXVpcmUgJy4uL2NyZWF0b3InXG5TZXJ2ZXIgPSByZXF1aXJlICcuLi9zZXJ2ZXInXG5EZXBsb3llciA9IHJlcXVpcmUgJy4uL2RlcGxveWVyJ1xuQXBwcyA9IHJlcXVpcmUgJy4uL2FwcHMnXG5BdXRob3JpemVyID0gcmVxdWlyZSAnLi4vYXV0aG9yaXplcidcbkNsb25lciA9IHJlcXVpcmUgJy4uL2Nsb25lcidcbkxvZyA9IHJlcXVpcmUgJy4uL2xvZydcblVwZGF0ZXIgPSByZXF1aXJlICcuLi91cGRhdGVyJ1xuRGVwbG95TG9nID0gcmVxdWlyZSAnLi4vZGVwbG95X2xvZydcbkNvbmZpZyA9IHJlcXVpcmUgJy4uL2NvbmZpZydcblxubmV3IFVwZGF0ZXIoKS51cGRhdGUoKS50aGVuIC0+XG4gIHByb2dyYW1cbiAgICAudmVyc2lvbihwa2cudmVyc2lvbilcbiAgICAudXNhZ2UoJzxrZXl3b3Jkcz4nKVxuXG4gIHByb2dyYW1cbiAgICAuY29tbWFuZCgnY3JlYXRlIFthcHAtbmFtZV0nKVxuICAgIC5kZXNjcmlwdGlvbignQ3JlYXRlcyBhIG5ldyBhcHAgd2l0aCBjbGVhbiBzZXR1cCBhbmQgZGlyZWN0b3J5IHN0cnVjdHVyZS4nKVxuICAgIC5vcHRpb24oJy1mLCAtLWZyYW1ld29yayBbbmFtZV0nLCAnRnJhbWV3b3JrJylcbiAgICAub3B0aW9uKCctdCwgLS10ZW1wbGF0ZSBbbmFtZV0nLCAnVGVtcGxhdGUnKVxuICAgIC5vcHRpb24oJy0tamF2YXNjcmlwdCBbbmFtZV0nLCAnSmF2YXNjcmlwdCBwcmVjb21waWxlcicpXG4gICAgLm9wdGlvbignLS1odG1sIFtuYW1lXScsICdIVE1MIHByZWNvbXBpbGVyJylcbiAgICAub3B0aW9uKCctLWNzcyBbbmFtZV0nLCAnQ1NTIHByZWNvbXBpbGVyJylcbiAgICAub3B0aW9uKCctLXRtcCBbcGF0aF0nLCAnVGhlIHBhdGggb2YgdGVtcG9yYXJ5IGRpcmVjdG9yeSB3aGVuIGNyZWF0aW5nJylcbiAgICAub3B0aW9uKCctLWRpc3QgW3BhdGhdJywgJ1BhdGggb2YgZGVzdGluYXRpb24gb2Ygd2hlcmUgdG8gY3JlYXRlIGFwcCBkaXInKVxuICAgIC5vcHRpb24oJy0tbm8tZGVwbG95JywgJ0RvIG5vdCBjcmVhdGUgR2l0aHViIHJlcG8gYW5kIGNsb3NlaGVhdCBhcHAnKVxuICAgIC5hY3Rpb24gKG5hbWUsIG9wdHMpIC0+XG4gICAgICBzZXR0aW5ncyA9IF8ucGljayhcbiAgICAgICAgW1xuICAgICAgICAgIG9wdHNcbiAgICAgICAgICAnZnJhbWV3b3JrJ1xuICAgICAgICAgICd0ZW1wbGF0ZSdcbiAgICAgICAgICAnamF2YXNjcmlwdCdcbiAgICAgICAgICAnaHRtbCdcbiAgICAgICAgICAnY3NzJ1xuICAgICAgICAgICdkaXN0J1xuICAgICAgICAgICd0bXAnXG4gICAgICAgICAgJ2RlcGxveSdcbiAgICAgICAgXS4uLlxuICAgICAgKVxuXG4gICAgICBzZXR0aW5ncy5uYW1lID0gbmFtZVxuXG4gICAgICBMb2cubG9nbygpXG5cbiAgICAgIHRlbXBsYXRlX3NldHRpbmdzID0gW1xuICAgICAgICAnZnJhbWV3b3JrJ1xuICAgICAgICAndGVtcGxhdGUnXG4gICAgICAgICdqYXZhc2NyaXB0J1xuICAgICAgICAnaHRtbCdcbiAgICAgICAgJ2NzcydcbiAgICAgIF1cblxuICAgICAgaW5jbHVkZXNfdGVtcGxhdGVfc2V0dGluZ3MgPSBfLmFueSBfLmtleXMoc2V0dGluZ3MpLCAoc2V0dGluZykgLT5cbiAgICAgICAgXy5jb250YWlucyh0ZW1wbGF0ZV9zZXR0aW5ncywgc2V0dGluZylcblxuICAgICAgaWYgaW5jbHVkZXNfdGVtcGxhdGVfc2V0dGluZ3NcbiAgICAgICAgbmV3IENyZWF0b3IoKS5jcmVhdGVGcm9tU2V0dGluZ3Moc2V0dGluZ3MpXG4gICAgICBlbHNlXG4gICAgICAgIG5ldyBDcmVhdG9yKCkuY3JlYXRlRnJvbVByb21wdChzZXR0aW5ncylcblxuICBwcm9ncmFtXG4gICAgLmNvbW1hbmQoJ3NlcnZlcicpXG4gICAgLmRlc2NyaXB0aW9uKCdSdW5zIGEgc2VydmVyIHdoaWNoIGJ1aWxkcyBhbmQgTGl2ZVJlbG9hZHMgeW91ciBhcHAuJylcbiAgICAub3B0aW9uKCctLWlwIFtpcF0nLCAnSVAgdG8gcnVuIExpdmVSZWxvYWQgb24gKGRlZmF1bHQgLSBsb2NhbGhvc3QpJylcbiAgICAub3B0aW9uKCctcCwgLS1wb3J0IFtwb3J0XScsICdQb3J0IHRvIHJ1biBzZXJ2ZXIgb24gKGRlZmF1bHQgLSA0MDAwKScpXG4gICAgLmFjdGlvbiAob3B0cykgLT5cbiAgICAgIG5ldyBTZXJ2ZXIoKS5zdGFydChvcHRzKVxuXG4gIHByb2dyYW1cbiAgICAuY29tbWFuZCgnZGVwbG95JylcbiAgICAuZGVzY3JpcHRpb24oJ0RlcGxveXMgeW91ciBhcHAgdG8gY2xvc2VoZWF0LmNvbSB2aWEgR2l0aHViLicpXG4gICAgLmFjdGlvbiAtPlxuICAgICAgTG9nLmxvZ28oKVxuXG4gICAgICBuZXcgRGVwbG95ZXIoKS5kZXBsb3koKVxuXG4gIHByb2dyYW1cbiAgICAuY29tbWFuZCgnbG9nJylcbiAgICAuZGVzY3JpcHRpb24oJ1BvbGxzIHRoZSBsb2cgb2YgdGhlIGxhc3QgZGVwbG95bWVudC4gVXNhYmxlOiBnaXQgcHVzaCBvcmlnaW4gbWFzdGVyICYmIGNsb3NlaGVhdCBsb2cnKVxuICAgIC5hY3Rpb24gLT5cbiAgICAgIExvZy5sb2dvKClcblxuICAgICAgbmV3IERlcGxveUxvZygpLmZyb21DdXJyZW50Q29tbWl0KClcblxuICBwcm9ncmFtXG4gICAgLmNvbW1hbmQoJ29wZW4nKVxuICAgIC5kZXNjcmlwdGlvbignT3BlbnMgeW91ciBkZXBsb3llZCBhcHAgaW4gdGhlIGJyb3dzZXIuJylcbiAgICAuYWN0aW9uIC0+XG4gICAgICBMb2cubG9nbygpXG5cbiAgICAgIG5ldyBEZXBsb3llcigpLm9wZW4oKVxuXG4gIHByb2dyYW1cbiAgICAuY29tbWFuZCgnYXBwcycpXG4gICAgLmRlc2NyaXB0aW9uKCdTaG93cyBhIGxpc3Qgb2YgeW91ciBkZXBsb3llZCBhcHBzLicpXG4gICAgLmFjdGlvbiAtPlxuICAgICAgbmV3IEFwcHMoKS5saXN0KClcblxuICBwcm9ncmFtXG4gICAgLmNvbW1hbmQoJ2xvZ2luJylcbiAgICAub3B0aW9uKCctdCwgLS10b2tlbiBbYWNjZXNzLXRva2VuXScsICdBY2Nlc3MgdG9rZW4gZnJvbSBjbG9zZWhlYXQuY29tLicpXG4gICAgLmRlc2NyaXB0aW9uKCdMb2cgaW4gdG8gY2xvc2VoZWF0LmNvbSB3aXRoIHRoaXMgY29tcHV0ZXIuJylcbiAgICAuYWN0aW9uIChvcHRzKSAtPlxuICAgICAgaWYgb3B0cy50b2tlblxuICAgICAgICBuZXcgQXV0aG9yaXplcigpLnNhdmVUb2tlbihvcHRzLnRva2VuKVxuICAgICAgZWxzZVxuICAgICAgICBuZXcgQXV0aG9yaXplcigpLmxvZ2luKClcblxuICBwcm9ncmFtXG4gICAgLmNvbW1hbmQoJ2Nsb25lIFthcHAtbmFtZV0nKVxuICAgIC5kZXNjcmlwdGlvbignQ2xvbmVzIHRoZSBHaXRodWIgcmVwb3NpdG9yeSBvZiBhbiBhcHAuJylcbiAgICAuYWN0aW9uIChhcHBfbmFtZSkgLT5cbiAgICAgIG5ldyBDbG9uZXIoKS5jbG9uZShhcHBfbmFtZSlcblxuICBwcm9ncmFtXG4gICAgLmNvbW1hbmQoJ3RyYW5zZm9ybSBbdHlwZV0gW2xhbmd1YWdlXScpXG4gICAgLmRlc2NyaXB0aW9uKCdUcmFuc2Zvcm1zIGZpbGVzIGluIGN1cnJlbnQgZGlyIHRvIG90aGVyIGxhbmd1YWdlIChFeHBlcmltZW50YWwpLicpXG4gICAgLmFjdGlvbiAodHlwZSwgbGFuZ3VhZ2UpIC0+XG4gICAgICBMb2cubG9nbygpXG5cbiAgICAgIERpcnMgPSByZXF1aXJlICcuLi9kaXJzJ1xuICAgICAgVHJhbnNmb3JtZXIgPSByZXF1aXJlICcuLi90cmFuc2Zvcm1lcidcbiAgICAgIGRpcnMgPSBuZXcgRGlycyhuYW1lOiAndHJhbnNmb3JtaW5nJywgc3JjOiBwcm9jZXNzLmN3ZCgpLCBkaXN0OiBwcm9jZXNzLmN3ZCgpKVxuXG4gICAgICBzZXR0aW5ncyA9IHt9XG4gICAgICBzZXR0aW5nc1t0eXBlXSA9IGxhbmd1YWdlXG5cbiAgICAgIG5ldyBUcmFuc2Zvcm1lcihkaXJzKS50cmFuc2Zvcm0oc2V0dGluZ3MpLnRoZW4gPT5cbiAgICAgICAgY29uc29sZS5sb2coJ3RyYW5zZm9ybWVkJywgc2V0dGluZ3MpXG5cbiAgcHJvZ3JhbVxuICAgIC5jb21tYW5kKCdoZWxwJylcbiAgICAuZGVzY3JpcHRpb24oJ0Rpc3BsYXlzIHRoaXMgbWVudS4nKVxuICAgIC5hY3Rpb24gLT5cbiAgICAgIExvZy5sb2dvKDApXG4gICAgICBwcm9ncmFtLmhlbHAoKVxuXG4gIHByb2dyYW0ucGFyc2UocHJvY2Vzcy5hcmd2KVxuXG4gIHVubGVzcyBwcm9ncmFtLmFyZ3MubGVuZ3RoXG4gICAgaWYgZnMuZXhpc3RzU3luYygnaW5kZXguaHRtbCcpIHx8IGZzLmV4aXN0c1N5bmMoJ2luZGV4LmphZGUnKVxuICAgICAgbmV3IFNlcnZlcigpLnN0YXJ0KClcbiAgICBlbHNlXG4gICAgICBMb2cubG9nbygwKVxuICAgICAgcHJvZ3JhbS5oZWxwKClcblxuICAgIHJldHVyblxuICAgIHR1YmUgPSBwaWN0dXJlVHViZShjb2xzOiA1KVxuICAgIHR1YmUucGlwZShwcm9jZXNzLnN0ZG91dClcbiAgICBsb2dvX3BhdGggPSBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnLi9pbWcvZnVsbC5wbmcnKVxuICAgIGZzLmNyZWF0ZVJlYWRTdHJlYW0obG9nb19wYXRoKS5waXBlKHR1YmUpXG4iLG51bGxdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==