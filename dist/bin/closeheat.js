#!/usr/bin/env node

var Apps,Authorizer,Cloner,Config,Creator,DeployLog,Deployer,Log,Server,Updater,fs,path,pkg,program,_;program=require("commander"),_=require("lodash"),fs=require("fs"),path=require("path"),pkg=require("../../package.json"),Creator=require("../creator"),Server=require("../server"),Deployer=require("../deployer"),Apps=require("../apps"),Authorizer=require("../authorizer"),Cloner=require("../cloner"),Log=require("../log"),Updater=require("../updater"),DeployLog=require("../deploy_log"),Config=require("../config"),(new Updater).update().then(function(){return program.version(pkg.version).usage("<keywords>"),program.command("create [app-name]").description("Creates a new app with clean setup and directory structure.").option("-f, --framework [name]","Framework").option("-t, --template [name]","Template").option("--javascript [name]","Javascript precompiler").option("--html [name]","HTML precompiler").option("--css [name]","CSS precompiler").option("--tmp [path]","The path of temporary directory when creating").option("--dist [path]","Path of destination of where to create app dir").option("--no-deploy","Do not create GitHub repo and closeheat app").action(function(e,r){var o,t,n;return t=_.pick.apply(_,[r,"framework","template","javascript","html","css","dist","tmp","deploy"]),t.name=e,Log.logo(),n=["framework","template","javascript","html","css"],o=_.any(_.keys(t),function(e){return _.contains(n,e)}),o?(new Creator).createFromSettings(t):(new Creator).createFromPrompt(t)}),program.command("server").description("Runs a server which builds and LiveReloads your app.").option("--ip [ip]","IP to run LiveReload on (default - localhost)").option("-p, --port [port]","Port to run server on (default - 4000)").action(function(e){return(new Server).start(e)}),program.command("deploy").description("Deploys your app to closeheat.com via GitHub.").action(function(){return Log.logo(),(new Deployer).deploy()}),program.command("log").description("Polls the log of the last deployment. Usable: git push origin master && closeheat log").action(function(){return Log.logo(),(new DeployLog).fromCurrentCommit()}),program.command("open").description("Opens your deployed app in the browser.").action(function(){return Log.logo(),(new Deployer).open()}),program.command("apps").description("Shows a list of your deployed apps.").action(function(){return(new Apps).list()}),program.command("login").option("-t, --token [access-token]","Access token from closeheat.com.").description("Log in to closeheat.com with this computer.").action(function(e){return e.token?(new Authorizer).saveToken(e.token):(new Authorizer).login()}),program.command("clone [app-name]").description("Clones the closeheat app files.").action(function(e){return e?(new Cloner).clone(e):(new Apps).list()}),program.command("transform [type] [language]").description("Transforms files in current dir to other language (Experimental).").action(function(e,r){var o,t,n,a;return Log.logo(),o=require("../dirs"),t=require("../transformer"),n=new o({name:"transforming",src:process.cwd(),dist:process.cwd()}),a={},a[e]=r,new t(n).transform(a).then(function(){return function(){return console.log("transformed",a)}}(this))}),program.command("help").description("Displays this menu.").action(function(){return Log.logo(0),program.help()}),program.parse(process.argv),program.args.length?void 0:void(fs.existsSync("index.html")||fs.existsSync("index.jade")?(new Server).start():(Log.logo(0),program.help()))});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNsb3NlaGVhdC5jb2ZmZWUiLCJjbG9zZWhlYXQuanMiXSwibmFtZXMiOlsiQXBwcyIsIkF1dGhvcml6ZXIiLCJDbG9uZXIiLCJDb25maWciLCJDcmVhdG9yIiwiRGVwbG95TG9nIiwiRGVwbG95ZXIiLCJMb2ciLCJTZXJ2ZXIiLCJVcGRhdGVyIiwiZnMiLCJwYXRoIiwicGtnIiwicHJvZ3JhbSIsIl8iLCJyZXF1aXJlIiwidXBkYXRlIiwidGhlbiIsInZlcnNpb24iLCJ1c2FnZSIsImNvbW1hbmQiLCJkZXNjcmlwdGlvbiIsIm9wdGlvbiIsImFjdGlvbiIsIm5hbWUiLCJvcHRzIiwiaW5jbHVkZXNfdGVtcGxhdGVfc2V0dGluZ3MiLCJzZXR0aW5ncyIsInRlbXBsYXRlX3NldHRpbmdzIiwicGljayIsImFwcGx5IiwibG9nbyIsImFueSIsImtleXMiLCJzZXR0aW5nIiwiY29udGFpbnMiLCJjcmVhdGVGcm9tU2V0dGluZ3MiLCJjcmVhdGVGcm9tUHJvbXB0Iiwic3RhcnQiLCJkZXBsb3kiLCJmcm9tQ3VycmVudENvbW1pdCIsIm9wZW4iLCJsaXN0IiwidG9rZW4iLCJzYXZlVG9rZW4iLCJsb2dpbiIsImFwcF9uYW1lIiwiY2xvbmUiLCJ0eXBlIiwibGFuZ3VhZ2UiLCJEaXJzIiwiVHJhbnNmb3JtZXIiLCJkaXJzIiwic3JjIiwicHJvY2VzcyIsImN3ZCIsImRpc3QiLCJ0cmFuc2Zvcm0iLCJjb25zb2xlIiwibG9nIiwidGhpcyIsImhlbHAiLCJwYXJzZSIsImFyZ3YiLCJhcmdzIiwibGVuZ3RoIiwiZXhpc3RzU3luYyJdLCJtYXBwaW5ncyI6IkFBQUEsR0FBQUEsTUFBQUMsV0FBQUMsT0FBQUMsT0FBQUMsUUFBQUMsVUFBQUMsU0FBQUMsSUFBQUMsT0FBQUMsUUFBQUMsR0FBQUMsS0FBQUMsSUFBQUMsUUFBQUMsQ0FBQUQsU0FBVUUsUUFBUSxhQUFsQkQsRUFDSUMsUUFBUSxVQURaTCxHQUVLSyxRQUFRLE1BRmJKLEtBR09JLFFBQVEsUUFIZkgsSUFLTUcs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RC9DLFFBQ0dPLFFBQVEsUUFDUkMsWUFBWSx1QkFDWkUsT0FBTyxXQzFDUixNRDJDRWhCLEtBQUl3QixLQUFLLEdBQ1RsQixRQUFRZ0QsU0FFWmhELFFBQVFpRCxNQUFNUixRQUFRUyxNQUV0QmxELFFBQWVtRCxLQUFLQyxPQUFwQixZQUNLdkQsR0FBR3dELFdBQVcsZUFBaUJ4RCxHQUFHd0QsV0FBVyxlQUMxQyxHQUFBMUQsU0FBUzhCLFNBRWIvQixJQUFJd0IsS0FBSyxHQUNUbEIsUUFBUWdEIiwiZmlsZSI6ImNsb3NlaGVhdC5qcyIsInNvdXJjZXNDb250ZW50IjpbInByb2dyYW0gPSByZXF1aXJlICdjb21tYW5kZXInXG5fID0gcmVxdWlyZSAnbG9kYXNoJ1xuZnMgPSByZXF1aXJlICdmcydcbnBhdGggPSByZXF1aXJlICdwYXRoJ1xuXG5wa2cgPSByZXF1aXJlICcuLi8uLi9wYWNrYWdlLmpzb24nXG5DcmVhdG9yID0gcmVxdWlyZSAnLi4vY3JlYXRvcidcblNlcnZlciA9IHJlcXVpcmUgJy4uL3NlcnZlcidcbkRlcGxveWVyID0gcmVxdWlyZSAnLi4vZGVwbG95ZXInXG5BcHBzID0gcmVxdWlyZSAnLi4vYXBwcydcbkF1dGhvcml6ZXIgPSByZXF1aXJlICcuLi9hdXRob3JpemVyJ1xuQ2xvbmVyID0gcmVxdWlyZSAnLi4vY2xvbmVyJ1xuTG9nID0gcmVxdWlyZSAnLi4vbG9nJ1xuVXBkYXRlciA9IHJlcXVpcmUgJy4uL3VwZGF0ZXInXG5EZXBsb3lMb2cgPSByZXF1aXJlICcuLi9kZXBsb3lfbG9nJ1xuQ29uZmlnID0gcmVxdWlyZSAnLi4vY29uZmlnJ1xuXG5uZXcgVXBkYXRlcigpLnVwZGF0ZSgpLnRoZW4gLT5cbiAgcHJvZ3JhbVxuICAgIC52ZXJzaW9uKHBrZy52ZXJzaW9uKVxuICAgIC51c2FnZSgnPGtleXdvcmRzPicpXG5cbiAgcHJvZ3JhbVxuICAgIC5jb21tYW5kKCdjcmVhdGUgW2FwcC1uYW1lXScpXG4gICAgLmRlc2NyaXB0aW9uKCdDcmVhdGVzIGEgbmV3IGFwcCB3aXRoIGNsZWFuIHNldHVwIGFuZCBkaXJlY3Rvcnkgc3RydWN0dXJlLicpXG4gICAgLm9wdGlvbignLWYsIC0tZnJhbWV3b3JrIFtuYW1lXScsICdGcmFtZXdvcmsnKVxuICAgIC5vcHRpb24oJy10LCAtLXRlbXBsYXRlIFtuYW1lXScsICdUZW1wbGF0ZScpXG4gICAgLm9wdGlvbignLS1qYXZhc2NyaXB0IFtuYW1lXScsICdKYXZhc2NyaXB0IHByZWNvbXBpbGVyJylcbiAgICAub3B0aW9uKCctLWh0bWwgW25hbWVdJywgJ0hUTUwgcHJlY29tcGlsZXInKVxuICAgIC5vcHRpb24oJy0tY3NzIFtuYW1lXScsICdDU1MgcHJlY29tcGlsZXInKVxuICAgIC5vcHRpb24oJy0tdG1wIFtwYXRoXScsICdUaGUgcGF0aCBvZiB0ZW1wb3JhcnkgZGlyZWN0b3J5IHdoZW4gY3JlYXRpbmcnKVxuICAgIC5vcHRpb24oJy0tZGlzdCBbcGF0aF0nLCAnUGF0aCBvZiBkZXN0aW5hdGlvbiBvZiB3aGVyZSB0byBjcmVhdGUgYXBwIGRpcicpXG4gICAgLm9wdGlvbignLS1uby1kZXBsb3knLCAnRG8gbm90IGNyZWF0ZSBHaXRIdWIgcmVwbyBhbmQgY2xvc2VoZWF0IGFwcCcpXG4gICAgLmFjdGlvbiAobmFtZSwgb3B0cykgLT5cbiAgICAgIHNldHRpbmdzID0gXy5waWNrKFxuICAgICAgICBbXG4gICAgICAgICAgb3B0c1xuICAgICAgICAgICdmcmFtZXdvcmsnXG4gICAgICAgICAgJ3RlbXBsYXRlJ1xuICAgICAgICAgICdqYXZhc2NyaXB0J1xuICAgICAgICAgICdodG1sJ1xuICAgICAgICAgICdjc3MnXG4gICAgICAgICAgJ2Rpc3QnXG4gICAgICAgICAgJ3RtcCdcbiAgICAgICAgICAnZGVwbG95J1xuICAgICAgICBdLi4uXG4gICAgICApXG5cbiAgICAgIHNldHRpbmdzLm5hbWUgPSBuYW1lXG5cbiAgICAgIExvZy5sb2dvKClcblxuICAgICAgdGVtcGxhdGVfc2V0dGluZ3MgPSBbXG4gICAgICAgICdmcmFtZXdvcmsnXG4gICAgICAgICd0ZW1wbGF0ZSdcbiAgICAgICAgJ2phdmFzY3JpcHQnXG4gICAgICAgICdodG1sJ1xuICAgICAgICAnY3NzJ1xuICAgICAgXVxuXG4gICAgICBpbmNsdWRlc190ZW1wbGF0ZV9zZXR0aW5ncyA9IF8uYW55IF8ua2V5cyhzZXR0aW5ncyksIChzZXR0aW5nKSAtPlxuICAgICAgICBfLmNvbnRhaW5zKHRlbXBsYXRlX3NldHRpbmdzLCBzZXR0aW5nKVxuXG4gICAgICBpZiBpbmNsdWRlc190ZW1wbGF0ZV9zZXR0aW5nc1xuICAgICAgICBuZXcgQ3JlYXRvcigpLmNyZWF0ZUZyb21TZXR0aW5ncyhzZXR0aW5ncylcbiAgICAgIGVsc2VcbiAgICAgICAgbmV3IENyZWF0b3IoKS5jcmVhdGVGcm9tUHJvbXB0KHNldHRpbmdzKVxuXG4gIHByb2dyYW1cbiAgICAuY29tbWFuZCgnc2VydmVyJylcbiAgICAuZGVzY3JpcHRpb24oJ1J1bnMgYSBzZXJ2ZXIgd2hpY2ggYnVpbGRzIGFuZCBMaXZlUmVsb2FkcyB5b3VyIGFwcC4nKVxuICAgIC5vcHRpb24oJy0taXAgW2lwXScsICdJUCB0byBydW4gTGl2ZVJlbG9hZCBvbiAoZGVmYXVsdCAtIGxvY2FsaG9zdCknKVxuICAgIC5vcHRpb24oJy1wLCAtLXBvcnQgW3BvcnRdJywgJ1BvcnQgdG8gcnVuIHNlcnZlciBvbiAoZGVmYXVsdCAtIDQwMDApJylcbiAgICAuYWN0aW9uIChvcHRzKSAtPlxuICAgICAgbmV3IFNlcnZlcigpLnN0YXJ0KG9wdHMpXG5cbiAgcHJvZ3JhbVxuICAgIC5jb21tYW5kKCdkZXBsb3knKVxuICAgIC5kZXNjcmlwdGlvbignRGVwbG95cyB5b3VyIGFwcCB0byBjbG9zZWhlYXQuY29tIHZpYSBHaXRIdWIuJylcbiAgICAuYWN0aW9uIC0+XG4gICAgICBMb2cubG9nbygpXG5cbiAgICAgIG5ldyBEZXBsb3llcigpLmRlcGxveSgpXG5cbiAgcHJvZ3JhbVxuICAgIC5jb21tYW5kKCdsb2cnKVxuICAgIC5kZXNjcmlwdGlvbignUG9sbHMgdGhlIGxvZyBvZiB0aGUgbGFzdCBkZXBsb3ltZW50LiBVc2FibGU6IGdpdCBwdXNoIG9yaWdpbiBtYXN0ZXIgJiYgY2xvc2VoZWF0IGxvZycpXG4gICAgLmFjdGlvbiAtPlxuICAgICAgTG9nLmxvZ28oKVxuXG4gICAgICBuZXcgRGVwbG95TG9nKCkuZnJvbUN1cnJlbnRDb21taXQoKVxuXG4gIHByb2dyYW1cbiAgICAuY29tbWFuZCgnb3BlbicpXG4gICAgLmRlc2NyaXB0aW9uKCdPcGVucyB5b3VyIGRlcGxveWVkIGFwcCBpbiB0aGUgYnJvd3Nlci4nKVxuICAgIC5hY3Rpb24gLT5cbiAgICAgIExvZy5sb2dvKClcblxuICAgICAgbmV3IERlcGxveWVyKCkub3BlbigpXG5cbiAgcHJvZ3JhbVxuICAgIC5jb21tYW5kKCdhcHBzJylcbiAgICAuZGVzY3JpcHRpb24oJ1Nob3dzIGEgbGlzdCBvZiB5b3VyIGRlcGxveWVkIGFwcHMuJylcbiAgICAuYWN0aW9uIC0+XG4gICAgICBuZXcgQXBwcygpLmxpc3QoKVxuXG4gIHByb2dyYW1cbiAgICAuY29tbWFuZCgnbG9naW4nKVxuICAgIC5vcHRpb24oJy10LCAtLXRva2VuIFthY2Nlc3MtdG9rZW5dJywgJ0FjY2VzcyB0b2tlbiBmcm9tIGNsb3NlaGVhdC5jb20uJylcbiAgICAuZGVzY3JpcHRpb24oJ0xvZyBpbiB0byBjbG9zZWhlYXQuY29tIHdpdGggdGhpcyBjb21wdXRlci4nKVxuICAgIC5hY3Rpb24gKG9wdHMpIC0+XG4gICAgICBpZiBvcHRzLnRva2VuXG4gICAgICAgIG5ldyBBdXRob3JpemVyKCkuc2F2ZVRva2VuKG9wdHMudG9rZW4pXG4gICAgICBlbHNlXG4gICAgICAgIG5ldyBBdXRob3JpemVyKCkubG9naW4oKVxuXG4gIHByb2dyYW1cbiAgICAuY29tbWFuZCgnY2xvbmUgW2FwcC1uYW1lXScpXG4gICAgLmRlc2NyaXB0aW9uKCdDbG9uZXMgdGhlIGNsb3NlaGVhdCBhcHAgZmlsZXMuJylcbiAgICAuYWN0aW9uIChhcHBfbmFtZSkgLT5cbiAgICAgIGlmIGFwcF9uYW1lXG4gICAgICAgIG5ldyBDbG9uZXIoKS5jbG9uZShhcHBfbmFtZSlcbiAgICAgIGVsc2VcbiAgICAgICAgbmV3IEFwcHMoKS5saXN0KClcblxuICBwcm9ncmFtXG4gICAgLmNvbW1hbmQoJ3RyYW5zZm9ybSBbdHlwZV0gW2xhbmd1YWdlXScpXG4gICAgLmRlc2NyaXB0aW9uKCdUcmFuc2Zvcm1zIGZpbGVzIGluIGN1cnJlbnQgZGlyIHRvIG90aGVyIGxhbmd1YWdlIChFeHBlcmltZW50YWwpLicpXG4gICAgLmFjdGlvbiAodHlwZSwgbGFuZ3VhZ2UpIC0+XG4gICAgICBMb2cubG9nbygpXG5cbiAgICAgIERpcnMgPSByZXF1aXJlICcuLi9kaXJzJ1xuICAgICAgVHJhbnNmb3JtZXIgPSByZXF1aXJlICcuLi90cmFuc2Zvcm1lcidcbiAgICAgIGRpcnMgPSBuZXcgRGlycyhuYW1lOiAndHJhbnNmb3JtaW5nJywgc3JjOiBwcm9jZXNzLmN3ZCgpLCBkaXN0OiBwcm9jZXNzLmN3ZCgpKVxuXG4gICAgICBzZXR0aW5ncyA9IHt9XG4gICAgICBzZXR0aW5nc1t0eXBlXSA9IGxhbmd1YWdlXG5cbiAgICAgIG5ldyBUcmFuc2Zvcm1lcihkaXJzKS50cmFuc2Zvcm0oc2V0dGluZ3MpLnRoZW4gPT5cbiAgICAgICAgY29uc29sZS5sb2coJ3RyYW5zZm9ybWVkJywgc2V0dGluZ3MpXG5cbiAgcHJvZ3JhbVxuICAgIC5jb21tYW5kKCdoZWxwJylcbiAgICAuZGVzY3JpcHRpb24oJ0Rpc3BsYXlzIHRoaXMgbWVudS4nKVxuICAgIC5hY3Rpb24gLT5cbiAgICAgIExvZy5sb2dvKDApXG4gICAgICBwcm9ncmFtLmhlbHAoKVxuXG4gIHByb2dyYW0ucGFyc2UocHJvY2Vzcy5hcmd2KVxuXG4gIHVubGVzcyBwcm9ncmFtLmFyZ3MubGVuZ3RoXG4gICAgaWYgZnMuZXhpc3RzU3luYygnaW5kZXguaHRtbCcpIHx8IGZzLmV4aXN0c1N5bmMoJ2luZGV4LmphZGUnKVxuICAgICAgbmV3IFNlcnZlcigpLnN0YXJ0KClcbiAgICBlbHNlXG4gICAgICBMb2cubG9nbygwKVxuICAgICAgcHJvZ3JhbS5oZWxwKClcblxuICAgIHJldHVyblxuICAgIHR1YmUgPSBwaWN0dXJlVHViZShjb2xzOiA1KVxuICAgIHR1YmUucGlwZShwcm9jZXNzLnN0ZG91dClcbiAgICBsb2dvX3BhdGggPSBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnLi9pbWcvZnVsbC5wbmcnKVxuICAgIGZzLmNyZWF0ZVJlYWRTdHJlYW0obG9nb19wYXRoKS5waXBlKHR1YmUpXG4iLG51bGxdLCJzb3VyY2VSb290IjoiL3NvdXJjZS8ifQ==